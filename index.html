<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>橘子不酸的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="记录生活点滴">
<meta property="og:type" content="website">
<meta property="og:title" content="橘子不酸的博客">
<meta property="og:url" content="https://yangzhiw.github.io/index.html">
<meta property="og:site_name" content="橘子不酸的博客">
<meta property="og:description" content="记录生活点滴">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="橘子不酸的博客">
<meta name="twitter:description" content="记录生活点滴">
  
    <link rel="alternate" href="/atom.xml" title="橘子不酸的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">橘子不酸的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">一天进步一点</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://yangzhiw.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-其他JDK命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/12/其他JDK命令/" class="article-date">
  <time datetime="2017-10-12T13:53:53.000Z" itemprop="datePublished">2017-10-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/12/其他JDK命令/">其他JDK命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="javah命令-C-Header-and-Stub-File-Generator"><a href="#javah命令-C-Header-and-Stub-File-Generator" class="headerlink" title="javah命令(C Header and Stub File Generator)"></a>javah命令(C Header and Stub File Generator)</h2><p>javah是用于根据JAVA本地方法，生成对应的c语言头文件及相应的stub文件的命令，使用比较简单，使用示例可以查看这篇文章：JNI简单示例,包括C语言实现及调用。</p>
<h2 id="jconsole命令-Java-Monitoring-and-Management-Console"><a href="#jconsole命令-Java-Monitoring-and-Management-Console" class="headerlink" title="jconsole命令(Java Monitoring and Management Console)"></a>jconsole命令(Java Monitoring and Management Console)</h2><p>jconsole:一个java GUI监视工具，可以以图表化的形式显示各种数据。并可通过远程连接监视远程的服务器VM。用java写的GUI程序，用来监控VM，并可监控远程的VM，非常易用，而且功能非常强。命令行里打 jconsole，选则进程就可以了。<br>需要注意的就是在运行jconsole之前，必须要先设置环境变量DISPLAY，否则会报错误，Linux下设置环境变量如下：<br>export DISPLAY=:0.0</p>
<h2 id="jvisualvm命令-Java-Virtual-Machine-Monitoring-Troubleshooting-and-Profiling-Tool"><a href="#jvisualvm命令-Java-Virtual-Machine-Monitoring-Troubleshooting-and-Profiling-Tool" class="headerlink" title="jvisualvm命令(Java Virtual Machine Monitoring, Troubleshooting, and Profiling Tool)"></a>jvisualvm命令(Java Virtual Machine Monitoring, Troubleshooting, and Profiling Tool)</h2><p>visualvm同jconsole都是一个基于图形化界面的、可以查看本地及远程的JAVA GUI监控工具，Jvisualvm同jconsole的使用方式一样，直接在命令行打入Jvisualvm即可启动，不过Jvisualvm相比，界面更美观一些，数据更实时。</p>
<h2 id="jinfo命令-Java-Configuration-Info"><a href="#jinfo命令-Java-Configuration-Info" class="headerlink" title="jinfo命令(Java Configuration Info)"></a>jinfo命令(Java Configuration Info)</h2><p>jinfo可以输出并修改运行时的java 进程的opts。用处比较简单，用于输出JAVA系统参数及命令行参数。用法是jinfo -opt  pid 如：查看2788的MaxPerm大小可以用  jinfo -flag MaxPermSize 2788。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yangzhiw.github.io/2017/10/12/其他JDK命令/" data-id="cj8oj12mq001uy39oktq52ow8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JDK内置工具/">JDK内置工具</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-jstat命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/12/jstat命令/" class="article-date">
  <time datetime="2017-10-12T13:52:00.000Z" itemprop="datePublished">2017-10-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/12/jstat命令/">jstat命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>Jstat用于监控基于HotSpot的JVM，对其堆的使用情况进行实时的命令行的统计，使用jstat我们可以对指定的JVM做如下监控：</p>
<ul>
<li>类的加载及卸载情况</li>
<li>查看新生代、老生代及持久代的容量及使用情况</li>
<li>查看新生代、老生代及持久代的垃圾收集情况，包括垃圾回收的次数及垃圾回收所占用的时间</li>
<li>查看新生代中Eden区及Survior区中容量及分配情况等<br>jstat工具特别强大，它有众多的可选项，通过提供多种不同的监控维度，使我们可以从不同的维度来了解到当前JVM堆的使用情况。详细查看堆内各个部分的使用量，使用的时候必须加上待统计的Java进程号，可选的不同维度参数以及可选的统计频率参数。</li>
</ul>
<h1 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h1><pre><code>jstat [ generalOption | outputOptions vmid [interval[s|ms] [count]] ]

generalOption - 单个的常用的命令行选项，如-help, -options, 或 -version。

outputOptions -一个或多个输出选项，由单个的statOption选项组成，可以和-t, -h, and -J等选项配合使用。
</code></pre><p>statOption：<br>class    用于查看类加载情况的统计<br>compiler    用于查看HotSpot中即时编译器编译情况的统计<br>gc    用于查看JVM中堆的垃圾收集情况的统计<br>gccapacity    用于查看新生代、老生代及持久代的存储容量情况<br>gccause    用于查看垃圾收集的统计情况（这个和-gcutil选项一样），如果有发生垃圾收集，它还会显示最后一次及当前正在发生垃圾收集的原因。<br>gcnew    用于查看新生代垃圾收集的情况<br>gcnewcapacity    用于查看新生代的存储容量情况<br>gcold    用于查看老生代及持久代发生GC的情况<br>gcoldcapacity    用于查看老生代的容量<br>gcpermcapacity    用于查看持久代的容量<br>gcutil    用于查看新生代、老生代及持代垃圾收集的情况<br>printcompilation    HotSpot编译方法的统计</p>
<pre><code>-h n
    用于指定每隔几行就输出列头，如果不指定，默认是只在第一行出现列头。

-JjavaOption
    用于将给定的javaOption传给java应用程序加载器，例如，“-J-Xms48m”将把启动内存设置为48M。如果想查看可以传递哪些选项到应用程序加载器中

-t n
    用于在输出内容的第一列显示时间戳，这个时间戳代表的时JVM开始启动到现在的时间（注：在IBM JDK5中是没有这个选项的）。

vmid  - VM的进程号，即当前运行的java进程号。
还有两个关于显示频率的选项：
interval–间隔时间，单位可以是秒或者毫秒，通过指定s或ms确定，默认单位为毫秒。
count-打印次数，如果缺省则打印无数次。
</code></pre><h1 id="不同的统计维度（statOption）及输出说明"><a href="#不同的统计维度（statOption）及输出说明" class="headerlink" title="不同的统计维度（statOption）及输出说明"></a>不同的统计维度（statOption）及输出说明</h1><h2 id="class-类加载情况的统计"><a href="#class-类加载情况的统计" class="headerlink" title="-class   类加载情况的统计"></a>-class   类加载情况的统计</h2><p>列名             说明<br>Loaded    加载了的类的数量<br>Bytes    加载了的类的大小，单为Kb<br>Unloaded    卸载了的类的数量<br>Bytes    卸载了的类的大小，单为Kb<br>Time    花在类的加载及卸载的时间</p>
<h2 id="compiler-HotSpot中即时编译器编译情况的统计"><a href="#compiler-HotSpot中即时编译器编译情况的统计" class="headerlink" title="-compiler HotSpot中即时编译器编译情况的统计"></a>-compiler HotSpot中即时编译器编译情况的统计</h2><p>列名    说明<br>Compiled    编译任务执行的次数<br>Failed    编译任务执行失败的次数<br>Invalid    编译任务非法执行的次数<br>Time    执行编译花费的时间<br>FailedType    最后一次编译失败的编译类型<br>FailedMethod    最后一次编译失败的类名及方法名</p>
<h2 id="gc-JVM中堆的垃圾收集情况的统计"><a href="#gc-JVM中堆的垃圾收集情况的统计" class="headerlink" title="-gc JVM中堆的垃圾收集情况的统计"></a>-gc JVM中堆的垃圾收集情况的统计</h2><p>列名    说明<br>S0C    新生代中Survivor space中S0当前容量的大小（KB）<br>S1C    新生代中Survivor space中S1当前容量的大小（KB）<br>S0U    新生代中Survivor space中S0容量使用的大小（KB）<br>S1U    新生代中Survivor space中S1容量使用的大小（KB）<br>EC    Eden space当前容量的大小（KB）<br>EU    Eden space容量使用的大小（KB）<br>OC    Old space当前容量的大小（KB）<br>OU    Old space使用容量的大小（KB）<br>PC    Permanent space当前容量的大小（KB）<br>PU    Permanent space使用容量的大小（KB）<br>YGC    从应用程序启动到采样时发生 Young GC 的次数<br>YGCT    从应用程序启动到采样时 Young GC 所用的时间(秒)<br>FGC    从应用程序启动到采样时发生 Full GC 的次数<br>FGCT    从应用程序启动到采样时 Full GC 所用的时间(秒)<br>GCT    T从应用程序启动到采样时用于垃圾回收的总时间(单位秒)，它的值等于YGC+FGC</p>
<h2 id="gccapacity-新生代、老生代及持久代的存储容量情况"><a href="#gccapacity-新生代、老生代及持久代的存储容量情况" class="headerlink" title="-gccapacity 新生代、老生代及持久代的存储容量情况"></a>-gccapacity 新生代、老生代及持久代的存储容量情况</h2><p>列名    说明<br>NGCMN    新生代的最小容量大小（KB）<br>NGCMX    新生代的最大容量大小（KB）<br>NGC    当前新生代的容量大小（KB）<br>S0C    当前新生代中survivor space 0的容量大小（KB）<br>S1C    当前新生代中survivor space 1的容量大小（KB）<br>EC    Eden space当前容量的大小（KB）<br>OGCMN    老生代的最小容量大小（KB）<br>OGCMX    老生代的最大容量大小（KB）<br>OGC    当前老生代的容量大小（KB）<br>OC    当前老生代的空间容量大小（KB）<br>PGCMN    持久代的最小容量大小（KB）<br>PGCMX    持久代的最大容量大小（KB）<br>PGC    当前持久代的容量大小（KB）<br>PC    当前持久代的空间容量大小（KB）<br>YGC    从应用程序启动到采样时发生 Young GC 的次数<br>FGC    从应用程序启动到采样时发生 Full GC 的次数</p>
<h2 id="gccause-用于查看垃圾收集的统计情况，包括最近发生垃圾的原因"><a href="#gccause-用于查看垃圾收集的统计情况，包括最近发生垃圾的原因" class="headerlink" title="-gccause  用于查看垃圾收集的统计情况，包括最近发生垃圾的原因"></a>-gccause  用于查看垃圾收集的统计情况，包括最近发生垃圾的原因</h2><p>列名    说明<br>LGCC    最后一次垃圾收集的原因，可能为“unknown GCCause”、“System.gc()”等<br>GCC    当前垃圾收集的原因</p>
<h2 id="gcnew-新生代垃圾收集的情况"><a href="#gcnew-新生代垃圾收集的情况" class="headerlink" title="-gcnew 新生代垃圾收集的情况"></a>-gcnew 新生代垃圾收集的情况</h2><p>列名    说明<br>S0C    当前新生代中survivor space 0的容量大小（KB）<br>S1C    当前新生代中survivor space 1的容量大小（KB）<br>S0U    S0已经使用的大小（KB）<br>S1U    S1已经使用的大小（KB）<br>TT    Tenuring threshold，要了解这个参数，我们需要了解一点Java内存对象的结构，在Sun JVM中，（除了数组之外的）对象都有两个机器字（words）的头部。第一个字中包含这个对象的标示哈希码以及其他一些类似锁状态和等标识信息，第二个字中包含一个指向对象的类的引用，其中第二个字节就会被垃圾收集算法使用到。<br>在新生代中做垃圾收集的时候，每次复制一个对象后，将增加这个对象的收集计数，当一个对象在新生代中被复制了一定次数后，该算法即判定该对象是长周期的对象，把他移动到老生代，这个阈值叫着tenuring threshold。这个阈值用于表示某个/些在执行批定次数youngGC后还活着的对象，即使此时新生的的Survior没有满，也同样被认为是长周期对象，将会被移到老生代中。<br>MTT    Maximum tenuring threshold，用于表示TT的最大值。<br>DSS    Desired survivor size (KB).可以参与这里：<a href="http://blog.csdn.net/yangjun2/article/details/6542357" target="_blank" rel="external">http://blog.csdn.net/yangjun2/article/details/6542357</a><br>EC    Eden space当前容量的大小（KB）<br>EU    Eden space已经使用的大小（KB）<br>YGC    从应用程序启动到采样时发生 Young GC 的次数<br>YGCT    从应用程序启动到采样时 Young GC 所用的时间(单位秒)</p>
<h2 id="gcnewcapacity-新生代的存储容量情况"><a href="#gcnewcapacity-新生代的存储容量情况" class="headerlink" title="gcnewcapacity 新生代的存储容量情况"></a>gcnewcapacity 新生代的存储容量情况</h2><p>列名    说明<br>NGCMN              新生代的最小容量大小（KB）<br>NGCMX        新生代的最大容量大小（KB）<br>NGC        当前新生代的容量大小（KB）<br>S0CMX    新生代中SO的最大容量大小（KB）<br>S0C    当前新生代中SO的容量大小（KB）<br>S1CMX    新生代中S1的最大容量大小（KB）<br>S1C    当前新生代中S1的容量大小（KB）<br>ECMX    新生代中Eden的最大容量大小（KB）<br>EC    当前新生代中Eden的容量大小（KB）<br>YGC    从应用程序启动到采样时发生 Young GC 的次数<br>FGC    从应用程序启动到采样时发生 Full GC 的次数</p>
<h2 id="gcold-老生代及持久代发生GC的情况"><a href="#gcold-老生代及持久代发生GC的情况" class="headerlink" title="-gcold  老生代及持久代发生GC的情况"></a>-gcold  老生代及持久代发生GC的情况</h2><p>列名    说明<br>PC    当前持久代容量的大小（KB）<br>PU    持久代使用容量的大小（KB）<br>OC    当前老年代容量的大小（KB）<br>OU    老年代使用容量的大小（KB）<br>YGC    从应用程序启动到采样时发生 Young GC 的次数<br>FGC    从应用程序启动到采样时发生 Full GC 的次数<br>FGCT    从应用程序启动到采样时 Full GC 所用的时间(单位秒)<br>GCT    从应用程序启动到采样时用于垃圾回收的总时间(单位秒)，它的值等于YGC+FGC</p>
<h2 id="gcoldcapacity-老生代的存储容量情况"><a href="#gcoldcapacity-老生代的存储容量情况" class="headerlink" title="-gcoldcapacity 老生代的存储容量情况"></a>-gcoldcapacity 老生代的存储容量情况</h2><p>列名    说明<br>OGCMN    老生代的最小容量大小（KB）<br>OGCMX    老生代的最大容量大小（KB）<br>OGC    当前老生代的容量大小（KB）<br>OC    当前新生代的空间容量大小（KB）<br>YGC    从应用程序启动到采样时发生 Young GC 的次数<br>FGC    从应用程序启动到采样时发生 Full GC 的次数<br>FGCT    从应用程序启动到采样时 Full GC 所用的时间(单位秒)<br>GCT    从应用程序启动到采样时用于垃圾回收的总时间(单位秒)，它的值等于YGC+FGC</p>
<h2 id="gcpermcapacity-持久代的存储容量情况"><a href="#gcpermcapacity-持久代的存储容量情况" class="headerlink" title="-gcpermcapacity 持久代的存储容量情况"></a>-gcpermcapacity 持久代的存储容量情况</h2><p>列名    说明<br>PGCMN    持久代的最小容量大小（KB）<br>PGCMX    持久代的最大容量大小（KB）<br>PGC    当前持久代的容量大小（KB）<br>PC    当前持久代的空间容量大小（KB）<br>YGC    从应用程序启动到采样时发生 Young GC 的次数<br>FGC 从应用程序启动到采样时发生 Full GC 的次数<br>FGCT    从应用程序启动到采样时 Full GC 所用的时间(单位秒)<br>GCT    从应用程序启动到采样时用于垃圾回收的总时间(单位秒)，它的值等于YGC+FGC</p>
<h2 id="gcutil-新生代、老生代及持代垃圾收集的情况"><a href="#gcutil-新生代、老生代及持代垃圾收集的情况" class="headerlink" title="-gcutil 新生代、老生代及持代垃圾收集的情况"></a>-gcutil 新生代、老生代及持代垃圾收集的情况</h2><p>列名    说明<br>S0    Heap上的 Survivor space 0 区已使用空间的百分比<br>S1    Heap上的 Survivor space 1 区已使用空间的百分比<br>E    Heap上的 Eden space 区已使用空间的百分比<br>O    Heap上的 Old space 区已使用空间的百分比<br>P    Perm space 区已使用空间的百分比<br>YGC    从应用程序启动到采样时发生 Young GC 的次数<br>YGCT    从应用程序启动到采样时 Young GC 所用的时间(单位秒)<br>FGC    从应用程序启动到采样时发生 Full GC 的次数<br>FGCT    从应用程序启动到采样时 Full GC 所用的时间(单位秒)<br>GCT    从应用程序启动到采样时用于垃圾回收的总时间(单位秒)，它的值等于YGC+FGC</p>
<h2 id="printcompilation-HotSpot编译方法的统计"><a href="#printcompilation-HotSpot编译方法的统计" class="headerlink" title="-printcompilation HotSpot编译方法的统计"></a>-printcompilation HotSpot编译方法的统计</h2><p>HotSpot编译方法的统计<br>列名    说明<br>Compiled    编译任务执行的次数<br>Size    方法的字节码所占的字节数<br>Type    编译类型<br>Method    指定确定被编译方法的类名及方法名，类名中使名“/”而不是“.”做为命名分隔符，方法名是被指定的类中的方法，这两个字段的格式是由HotSpot中的“-XX:+PrintComplation”选项确定的。</p>
<h1 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h1><p>jstat -gcutil 11111</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yangzhiw.github.io/2017/10/12/jstat命令/" data-id="cj8oj12m90016y39os8yo8vsm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JDK内置工具/">JDK内置工具</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-jstack命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/12/jstack命令/" class="article-date">
  <time datetime="2017-10-12T13:48:43.000Z" itemprop="datePublished">2017-10-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/12/jstack命令/">jstack命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>jstack用于打印出给定的java进程ID或corefile或远程调试服务的Java堆栈信息，如果是在64位机器上，需要指定选项”-J-d64”，Windows的jstack使用方式只支持以下的这种方式：<br>jstack [-l] pid<br>如果java程序崩溃生成core文件，jstack工具可以用来获得core文件的java stack和native stack的信息，从而可以轻松地知道java程序是如何崩溃和在程序何处发生问题。另外，jstack工具还可以附属到正在运行的java程序中，看到当时运行的java程序的java stack和native stack的信息, 如果现在运行的java程序呈现hung的状态，jstack是非常有用的。</p>
<h2 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h2><p>jstack [ option ] pid<br>jstack [ option ] executable core<br>jstack [ option ] [server-id@]remote-hostname-or-IP</p>
<h2 id="常用参数说明"><a href="#常用参数说明" class="headerlink" title="常用参数说明"></a>常用参数说明</h2><ul>
<li><p>options:<br>executable Java executable from which the core dump was produced.<br>(可能是产生core dump的java可执行程序)<br>core 将被打印信息的core dump文件<br>remote-hostname-or-IP 远程debug服务的主机名或ip<br>server-id 唯一id,假如一台主机上多个远程debug服务 </p>
</li>
<li><p>基本参数：<br>-F当’jstack [-l] pid’没有响应的时候强制打印栈信息<br>-l长列表. 打印关于锁的附加信息,例如属于java.util.concurrent的ownable synchronizers列表.<br>-m打印java和native c/c++框架的所有栈信息.<br>-h | -help打印帮助信息<br>pid 需要被打印配置信息的java进程id,可以用jps查询.</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yangzhiw.github.io/2017/10/12/jstack命令/" data-id="cj8oj12m10012y39ojscqg4d7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JDK内置工具/">JDK内置工具</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-jps命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/12/jps命令/" class="article-date">
  <time datetime="2017-10-12T13:46:41.000Z" itemprop="datePublished">2017-10-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/12/jps命令/">jps命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>用来查看基于HotSpot的JVM里面中，所有具有访问权限的Java进程的具体状态, 包括进程ID，进程启动的路径及启动参数等等，与unix上的ps类似，只不过jps是用来显示java进程，可以把jps理解为ps的一个子集。<br>使用jps时，如果没有指定hostid，它只会显示本地环境中所有的Java进程；如果指定了hostid，它就会显示指定hostid上面的java进程，不过这需要远程服务上开启了jstatd服务，可以参看前面的jstatd章节来启动jstad服务。</p>
<h2 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h2><p>jps [options] [hostid]</p>
<h2 id="常用参数说明"><a href="#常用参数说明" class="headerlink" title="常用参数说明"></a>常用参数说明</h2><p>-q 忽略输出的类名、Jar名以及传递给main方法的参数，只输出pid。<br>-m 输出传递给main方法的参数，如果是内嵌的JVM则输出为null。<br>-l 输出应用程序主类的完整包名，或者是应用程序JAR文件的完整路径。<br>-v 输出传给JVM的参数。<br>-J 用于传递jvm选项到由javac调用的java加载器中，例如，“-J-Xms48m”将把启动内存设置为48M，使用-J选项可以非常方便的向基于Java的开发的底层虚拟机应用程序传递参数。</p>
<h2 id="服务器标识"><a href="#服务器标识" class="headerlink" title="服务器标识"></a>服务器标识</h2><p>hostid指定了目标的服务器，它的语法如下：<br>[protocol:][[//]hostname][:port][/servername]<br>protocol - 如果protocol及hostname都没有指定，那表示的是与当前环境相关的本地协议，如果指定了hostname却没有指定protocol，那么protocol的默认就是rmi。<br>hostname - 服务器的IP或者名称，没有指定则表示本机。<br>port - 远程rmi的端口，如果没有指定则默认为1099。<br>Servername - 注册到RMI注册中心中的jstatd的名称。</p>
<p>如：启动了名为AlternateJstatdServerName的jstatd服务<br>rmiregistry 2020&amp;jstatd -J-Djava.security.policy=all.policy -p 2020 -n AlternateJstatdServerName</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yangzhiw.github.io/2017/10/12/jps命令/" data-id="cj8oj12m50014y39oes7u3sdd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JDK内置工具/">JDK内置工具</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-jmap命令-Java-Memory-Map" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/12/jmap命令-Java-Memory-Map/" class="article-date">
  <time datetime="2017-10-12T13:33:55.000Z" itemprop="datePublished">2017-10-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/12/jmap命令-Java-Memory-Map/">jmap命令(Java Memory Map)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>打印出某个java进程（使用pid）内存内的，所有‘对象’的情况（如：产生那些对象，及其数量）。</p>
<p>可以输出所有内存中对象的工具，甚至可以将VM 中的heap，以二进制输出成文本。使用方法 jmap -histo pid。如果连用SHELL jmap -histo pid&gt;a.log可以将其保存到文本中去，在一段时间后，使用文本对比工具，可以对比出GC回收了哪些对象。jmap -dump:format=b,file=outfile 3024可以将3024进程的内存heap输出出来到outfile文件里，再配合MAT（内存分析工具(Memory Analysis Tool），使用参见：<a href="http://blog.csdn.net/fenglibing/archive/2011/04/02/6298326.aspx）或与jhat" target="_blank" rel="external">http://blog.csdn.net/fenglibing/archive/2011/04/02/6298326.aspx）或与jhat</a> (Java Heap Analysis Tool)一起使用，能够以图像的形式直观的展示当前内存是否有问题。<br>64位机上使用需要使用如下方式：<br>jmap -J-d64 -heap pid</p>
<h2 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h2><p>jmap [ option ] pid<br>jmap [ option ] executable core<br>jmap [ option ] [server-id@]remote-hostname-or-IP</p>
<h2 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h2><ul>
<li><p>options<br>executable Java executable from which the core dump was produced.<br>(可能是产生core dump的java可执行程序)<br>core 将被打印信息的core dump文件<br>remote-hostname-or-IP 远程debug服务的主机名或ip<br>server-id 唯一id,假如一台主机上多个远程debug服务 </p>
</li>
<li><p>基本参数<br>-dump:[live,]format=b,file=<filename> 使用hprof二进制形式,输出jvm的heap内容到文件=. live子选项是可选的，假如指定live选项,那么只输出活的对象到文件.<br>-finalizerinfo 打印正等候回收的对象的信息.<br>-heap 打印heap的概要信息，GC使用的算法，heap的配置及wise heap的使用情况.<br>-histo[:live] 打印每个class的实例数目,内存占用,类全名信息. VM的内部类名字开头会加上前缀”*”. 如果live子参数加上后,只统计活的对象数量.<br>-permstat 打印classload和jvm heap长久层的信息. 包含每个classloader的名字,活泼性,地址,父classloader和加载的class数量. 另外,内部String的数量和占用内存数也会打印出来.<br>-F 强迫.在pid没有相应的时候使用-dump或者-histo参数. 在这个模式下,live子参数无效.<br>-h | -help 打印辅助信息<br>-J 传递参数给jmap启动的jvm.<br>pid 需要被打印配相信息的java进程id,创业与打工的区别 - 博文预览,可以用jps查问.</filename></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yangzhiw.github.io/2017/10/12/jmap命令-Java-Memory-Map/" data-id="cj8oj12lx000yy39ol532yna4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JDK内置工具/">JDK内置工具</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Codis/">Codis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EnableJpaRepositorie注解/">EnableJpaRepositorie注解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Heroku/">Heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDK内置工具/">JDK内置工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java基础/">Java基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JaveWeb/">JaveWeb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka/">Kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scheduler/">Scheduler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Boot/">Spring Boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud/">Spring Cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Data-Jpa/">Spring Data Jpa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Security/">Spring Security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/log4j/">log4j</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/logback/">logback</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-AOP/">spring AOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并发编程/">并发编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/异常处理/">异常处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/拦截器/">拦截器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日志/">日志</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编码/">编码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随记/">随记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Codis/" style="font-size: 10px;">Codis</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/EnableJpaRepositorie注解/" style="font-size: 10px;">EnableJpaRepositorie注解</a> <a href="/tags/Heroku/" style="font-size: 10px;">Heroku</a> <a href="/tags/JDK内置工具/" style="font-size: 18px;">JDK内置工具</a> <a href="/tags/Java基础/" style="font-size: 10px;">Java基础</a> <a href="/tags/JaveWeb/" style="font-size: 10px;">JaveWeb</a> <a href="/tags/Kafka/" style="font-size: 10px;">Kafka</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Scheduler/" style="font-size: 12px;">Scheduler</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Spring-Boot/" style="font-size: 16px;">Spring Boot</a> <a href="/tags/Spring-Cloud/" style="font-size: 20px;">Spring Cloud</a> <a href="/tags/Spring-Data-Jpa/" style="font-size: 10px;">Spring Data Jpa</a> <a href="/tags/Spring-Security/" style="font-size: 10px;">Spring Security</a> <a href="/tags/log4j/" style="font-size: 10px;">log4j</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/spring-AOP/" style="font-size: 10px;">spring AOP</a> <a href="/tags/并发编程/" style="font-size: 14px;">并发编程</a> <a href="/tags/异常处理/" style="font-size: 10px;">异常处理</a> <a href="/tags/拦截器/" style="font-size: 10px;">拦截器</a> <a href="/tags/日志/" style="font-size: 14px;">日志</a> <a href="/tags/编码/" style="font-size: 10px;">编码</a> <a href="/tags/设计模式/" style="font-size: 12px;">设计模式</a> <a href="/tags/随记/" style="font-size: 10px;">随记</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/10/12/其他JDK命令/">其他JDK命令</a>
          </li>
        
          <li>
            <a href="/2017/10/12/jstat命令/">jstat命令</a>
          </li>
        
          <li>
            <a href="/2017/10/12/jstack命令/">jstack命令</a>
          </li>
        
          <li>
            <a href="/2017/10/12/jps命令/">jps命令</a>
          </li>
        
          <li>
            <a href="/2017/10/12/jmap命令-Java-Memory-Map/">jmap命令(Java Memory Map)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>